---
layout: post
title: Windbg - command types
date: 2013-10-13 22:59:18.000000000 -05:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Programming
tags: []
meta:
  _edit_last: '14827209'
  _publicize_pending: '1'
  _oembed_623c75d4ce5d61d70d990a9d15e26f98: "{{unknown}}"
  geo_public: '0'
  _oembed_d20e658c51a670d70edcf1f5f3973a18: "{{unknown}}"
author:
  login: acrocontext
  email: nsclass@hotmail.com
  display_name: acrocontext
  first_name: ''
  last_name: ''
permalink: "/2013/10/13/windbg-command-types/"
---
<h3>Windbg has the following command types</h3>
<ul>
<li>Native commands: it starts without any prefix</li>
<ul>
<li>vertaget, k, ~, s, lm, lmv m *clr*</li>
</ul>
<li>Meta commands(.): it starts with '.'</li>
<ul>
<li>.load, .chain, .prefer_dml 1(available .NET4)</li>
<li>.exr -1 =&gt; dd poi(addr) =&gt; !pe
</li>
<li>Print all exceptions: .foreach (ex {!dumpheap -type Exception -short}){.echo "********************************";!pe ${ex} }</li>
</ul>
<li>Extension commands(!): it starts with '!'</li>
<ul>
<li>!help, !peb</li>
<li>List exceptions in dump file: !dumpheap -type Exception
</li>
</ul>
</ul>
<h3>Loading the right version of sos.dll</h3>
<p>The following command will ensure that the debugger to load the extension "sos.dll" from the same place that clr.dll was loaded. That ensures that you get the right version of SOS (it should be the one that matches the clr you are using)<br />
Notes: SOS stands for Son of Strike from (Drill Into .NET Framework Internals to See How the CLR Creates Runtime Objects: http://msdn.microsoft.com/en-us/magazine/cc163791.aspx#S5)</p>
<ul>
<li>.NET4</li>
<p>[code lang="c"]<br />
.loadby sos.dll clr<br />
[/code]</p>
<li>.NET2</li>
<p>[code lang="c"]<br />
.loadby sos.dll mscoworks<br />
[/code]
</ul>
<h3>Channel9 MSDN show</h3>
<p>http://channel9.msdn.com/Shows/Defrag-Tools/Defrag-Tools-14-WinDbg-SOS</p>
<h3>More examples</h3>
<ul>
    version<br />
    vertarget<br />
    |<br />
    ||<br />
    .sympath<br />
    .srcpath<br />
    .exepath<br />
    .extpath<br />
    .chain<br />
    !analyze -v<br />
    .bugcheck<br />
    !error<br />
    ~<br />
    ~NNs<br />
    ~~[TID]s<br />
    ~*k<br />
    ~*r<br />
    !process 0 17<br />
    !threads<br />
    !findstack<br />
    !uniqstack<br />
    !peb<br />
    !teb<br />
    k=<br />
    dps<br />
    dpu<br />
    dpa<br />
    dpp<br />
    .reload /f<br />
    .reload /user<br />
    !gle<br />
    !tls<br />
    !address -summary<br />
    !address<br />
    !vprot<br />
    !mapped_file<br />
    ~*kv<br />
    ~<br />
    ~~[TID]s<br />
    !cs<br />
    !locks<br />
    dv<br />
    dt<br />
    !sos.dumpstack<br />
    !sos.dumpstackobjects / !sos.dso<br />
    !sos.dumpobj / !sos.do<br />
    !sos.printexception / !sos.pe<br />
    .frame<br />
    .f+<br />
    .f-<br />
    .load<br />
    .unload<br />
    .loadby<br />
    .chain<br />
    lm / lmm / lmvm<br />
    .extmatch<br />
    .prefer_dml 1<br />
    .lines<br />
    .ecxr<br />
    .cls
</ul>
