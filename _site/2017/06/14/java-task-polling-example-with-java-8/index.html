<p>[code lang="c"]<br />
public void completionService(ExecutorService executor) {<br />
    CompletionService&lt;CustomTaskResult&gt; completionService =<br />
        new ExecutorCompletionService&lt;CustomTaskResult&gt;(executor);</p>
<p>    completionService.submit(() =&gt; {<br />
        // to something<br />
    });</p>
<p>    Future&lt;CustomTaskResult&gt; future = null<br />
    while ((future = completionService.poll()) != null) {</p>
<p>    	// do something</p>
<p>    }<br />
}<br />
[/code]</p>
