<p>[sourcecode language="cpp"]<br />
std::wstring fromAscii(const char* str)<br />
{<br />
	std::wstring sOutput;<br />
	int inputLength = (int)strlen(str);<br />
	if(inputLength)<br />
	{<br />
		inputLength++; // allow for null terminator<br />
		wchar_t* buf = new wchar_t[inputLength];<br />
		MultiByteToWideChar(CP_ACP, 0, str, inputLength, buf, inputLength);<br />
		sOutput += buf;<br />
		delete[] buf;<br />
	}<br />
	return sOutput;<br />
}</p>
<p>bool LoadTextFile(std::wstring const&amp; path, std::wstring&amp; text)<br />
{<br />
    try<br />
    {<br />
        std::ifstream ifs(path);<br />
        std::string str((std::istreambuf_iterator(ifs)), std::istreambuf_iterator());</p>
<p>        text = fromAscii(str.c_str());<br />
        return true;<br />
   }<br />
   catch(...)<br />
   {<br />
   }</p>
<p>    return false;<br />
}<br />
[/sourcecode]</p>
